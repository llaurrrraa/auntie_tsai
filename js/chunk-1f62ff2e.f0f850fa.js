(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-1f62ff2e"],{"1dde":function(t,e,a){var n=a("d039"),c=a("b622"),o=a("2d00"),r=c("species");t.exports=function(t){return o>=51||!n((function(){var e=[],a=e.constructor={};return a[r]=function(){return{foo:1}},1!==e[t](Boolean).foo}))}},"34dc":function(t,e,a){"use strict";a("b2f5")},8418:function(t,e,a){"use strict";var n=a("a04b"),c=a("9bf2"),o=a("5c6c");t.exports=function(t,e,a){var r=n(e);r in t?c.f(t,r,o(0,a)):t[r]=a}},"969e":function(t,e,a){t.exports=a.p+"img/auntieTsai02-icon.c3bc40a1.png"},"99af":function(t,e,a){"use strict";var n=a("23e7"),c=a("da84"),o=a("d039"),r=a("e8b5"),i=a("861d"),l=a("7b0b"),s=a("07fa"),d=a("8418"),u=a("65f0"),b=a("1dde"),p=a("b622"),f=a("2d00"),h=p("isConcatSpreadable"),g=9007199254740991,v="Maximum allowed index exceeded",m=c.TypeError,O=f>=51||!o((function(){var t=[];return t[h]=!1,t.concat()[0]!==t})),j=b("concat"),V=function(t){if(!i(t))return!1;var e=t[h];return void 0!==e?!!e:r(t)},N=!O||!j;n({target:"Array",proto:!0,forced:N},{concat:function(t){var e,a,n,c,o,r=l(this),i=u(r,0),b=0;for(e=-1,n=arguments.length;e<n;e++)if(o=-1===e?r:arguments[e],V(o)){if(c=s(o),b+c>g)throw m(v);for(a=0;a<c;a++,b++)a in o&&d(i,b,o[a])}else{if(b>=g)throw m(v);d(i,b++,o)}return i.length=b,i}})},b2f5:function(t,e,a){},d46a:function(t,e,a){"use strict";var n=function(t){return{all:t=t||new Map,on:function(e,a){var n=t.get(e);n?n.push(a):t.set(e,[a])},off:function(e,a){var n=t.get(e);n&&(a?n.splice(n.indexOf(a)>>>0,1):t.set(e,[]))},emit:function(e,a){var n=t.get(e);n&&n.slice().map((function(t){t(a)})),(n=t.get("*"))&&n.slice().map((function(t){t(e,a)}))}}},c=n();e["a"]=c},e444:function(t,e,a){"use strict";a.r(e);var n=a("7a23"),c=a("969e"),o=a.n(c),r={class:"navbar navbar-expand-lg navbar-light bg-light"},i={class:"container-fluid"},l=Object(n["createElementVNode"])("img",{src:o.a,height:"60",class:"d-inline-block align-text-top",alt:"auntieTsai_logo"},null,-1),s=Object(n["createElementVNode"])("button",{class:"navbar-toggler",type:"button","data-bs-toggle":"collapse","data-bs-target":"#navbarSupportedContent","aria-controls":"navbarSupportedContent","aria-expanded":"false","aria-label":"Toggle navigation"},[Object(n["createElementVNode"])("span",{class:"navbar-toggler-icon"})],-1),d={class:"navbar navbar-expand-lg"},u={class:"collapse navbar-collapse",id:"navbarSupportedContent"},b={class:"d-flex bd-highlight me-5 navbar-nav"},p={class:"p-2 bd-highlight nav-item ms-3"},f=Object(n["createTextVNode"])("首頁"),h={class:"p-2 bd-highlight nav-item ms-3"},g=Object(n["createTextVNode"])("所有產品"),v={class:"p-2 bd-highlight nav-item ms-3"},m=Object(n["createTextVNode"])("運送須知"),O={class:"p-2 bd-highlight nav-item ms-3"},j=Object(n["createTextVNode"])("關於我們"),V={class:"p-2 bd-highlight nav-item ms-3 position-relative"},N={class:"cart-link","data-bs-toggle":"offcanvas","data-bs-target":"#offcanvasRight","aria-controls":"offcanvasRight"},E={class:"position-absolute top-10 start-80 translate-middle badge rounded-pill bg-danger"},x={ref:"offcanvasRef",tabindex:"-1",class:"offcanvas offcanvas-end",id:"offcanvasRight","aria-labelledby":"offcanvasRightLabel"},C=Object(n["createElementVNode"])("div",{class:"offcanvas-header"},[Object(n["createElementVNode"])("h5",{id:"offcanvasRightLabel"},"購物車清單"),Object(n["createElementVNode"])("button",{type:"button",class:"btn-close text-reset","data-bs-dismiss":"offcanvas","aria-label":"Close"})],-1),y={class:"offcanvas-body"},k={class:"table align-middle table-borderless table-hover"},w=Object(n["createElementVNode"])("thead",null,[Object(n["createElementVNode"])("tr",null,[Object(n["createElementVNode"])("th")])],-1),L=["src"],T={class:"td-title"},D={class:"td-price"},S={class:"input-group input-group-sm qtyBtn"},B=["onClick"],_=["onUpdate:modelValue"],q=["onClick"],$=["onClick"],I={colspan:"4",class:"text-end"};function R(t,e,a,c,o,R){var M=Object(n["resolveComponent"])("router-link"),U=Object(n["resolveComponent"])("ShoppingBagIcon"),F=Object(n["resolveComponent"])("router-view"),J=Object(n["resolveComponent"])("loading");return Object(n["openBlock"])(),Object(n["createElementBlock"])(n["Fragment"],null,[Object(n["createElementVNode"])("nav",r,[Object(n["createElementVNode"])("div",i,[Object(n["createVNode"])(M,{class:"navbar-brand",to:"/"},{default:Object(n["withCtx"])((function(){return[l]})),_:1}),s,Object(n["createElementVNode"])("div",d,[Object(n["createElementVNode"])("div",u,[Object(n["createElementVNode"])("div",b,[Object(n["createElementVNode"])("div",p,[Object(n["createVNode"])(M,{to:"/",class:"router-link nav-link"},{default:Object(n["withCtx"])((function(){return[f]})),_:1})]),Object(n["createElementVNode"])("div",h,[Object(n["createVNode"])(M,{to:"/products",class:"router-link nav-link"},{default:Object(n["withCtx"])((function(){return[g]})),_:1})]),Object(n["createElementVNode"])("div",v,[Object(n["createVNode"])(M,{to:"/shipping",class:"router-link nav-link"},{default:Object(n["withCtx"])((function(){return[m]})),_:1})]),Object(n["createElementVNode"])("div",O,[Object(n["createVNode"])(M,{to:"/about",class:"nav-link router-link"},{default:Object(n["withCtx"])((function(){return[j]})),_:1})]),Object(n["createElementVNode"])("div",V,[Object(n["createElementVNode"])("a",N,[Object(n["createVNode"])(U,{class:"shopping-icon pb-1"})]),Object(n["createElementVNode"])("span",E,Object(n["toDisplayString"])(o.cartData.carts.length),1)])])])])])]),Object(n["createVNode"])(F),Object(n["createElementVNode"])("div",x,[C,Object(n["createElementVNode"])("div",y,[Object(n["createElementVNode"])("table",k,[w,Object(n["createElementVNode"])("tbody",null,[(Object(n["openBlock"])(!0),Object(n["createElementBlock"])(n["Fragment"],null,Object(n["renderList"])(o.cartData.carts,(function(t,e){return Object(n["openBlock"])(),Object(n["createElementBlock"])("tr",{key:e},[Object(n["createElementVNode"])("td",null,[Object(n["createElementVNode"])("img",{src:t.product.imageUrl,alt:"auntieTsai_logo",class:"cart-img"},null,8,L)]),Object(n["createElementVNode"])("td",null,[Object(n["createElementVNode"])("ul",null,[Object(n["createElementVNode"])("li",T,[Object(n["createElementVNode"])("h4",null,Object(n["toDisplayString"])(t.product.title),1)]),Object(n["createElementVNode"])("li",D," 價格：$ "+Object(n["toDisplayString"])(t.product.price)+" / "+Object(n["toDisplayString"])(t.product.unit),1)])]),Object(n["createElementVNode"])("td",null,[Object(n["createElementVNode"])("div",S,[Object(n["createElementVNode"])("button",{class:"btn btn-outline-secondary",type:"button",id:"button-minus1",onClick:function(e){return R.minusCart(t)}}," － ",8,B),Object(n["withDirectives"])(Object(n["createElementVNode"])("input",{type:"text",style:{"max-width":"50px","text-align":"center"},class:"form-control",placeholder:"","aria-label":"Example text with button addon","aria-describedby":"button-addon1","onUpdate:modelValue":function(e){return t.qty=e},readonly:""},null,8,_),[[n["vModelText"],t.qty]]),Object(n["createElementVNode"])("button",{class:"btn btn-outline-secondary",type:"button",id:"button-add1",onClick:function(e){return R.addCart(t)}}," ＋ ",8,q)])]),Object(n["createElementVNode"])("td",null,[Object(n["createElementVNode"])("button",{type:"btn",class:"btn btn-outline-dark",onClick:function(e){return R.deleteCart(t.id)}}," X ",8,$)])])})),128))]),Object(n["createElementVNode"])("tfoot",null,[Object(n["createElementVNode"])("tr",null,[Object(n["createElementVNode"])("td",I," 總金額：$ "+Object(n["toDisplayString"])(o.cartData.final_total),1)])])]),Object(n["createElementVNode"])("a",{href:"#/cart",type:"btn",class:"btn btn-lg go-cart",onClick:e[0]||(e[0]=Object(n["withModifiers"])((function(){return R.goToCart&&R.goToCart.apply(R,arguments)}),["prevent"]))}," 前往結賬 〉 ")])],512),Object(n["createVNode"])(J,{active:o.isLoading,"onUpdate:active":e[1]||(e[1]=function(t){return o.isLoading=t})},null,8,["active"])],64)}a("99af");var M=a("9510"),U=a("d46a"),F={data:function(){return{isLoading:!1,cartData:{carts:[]}}},components:{ShoppingBagIcon:M["a"]},mounted:function(){var t=this;this.getCart(),U["a"].on("getCart",(function(){t.getCart()}))},methods:{getCart:function(){var t=this;this.$http.get("".concat("https://vue3-course-api.hexschool.io/","/v2/api/").concat("llaurrrraa-hexschool","/cart")).then((function(e){t.cartData=e.data.data}))},minusCart:function(t){var e=this;t.qty--,this.isLoadingItem=t.id;var a={product_id:t.id,qty:t.qty};this.$http.put("".concat("https://vue3-course-api.hexschool.io/","/v2/api/").concat("llaurrrraa-hexschool","/cart/").concat(t.id),{data:a}).then((function(){e.getCart(),e.isLoadingItem=""}))},addCart:function(t){var e=this;t.qty++,this.isLoadingItem=t.id,this.isLoading=!0;var a={product_id:t.id,qty:t.qty};this.$http.put("".concat("https://vue3-course-api.hexschool.io/","/v2/api/").concat("llaurrrraa-hexschool","/cart/").concat(t.id),{data:a}).then((function(){e.isLoading=!1,e.isLoadingItem="",e.getCart()}))},deleteCart:function(t){var e=this;this.isLoading=!0;var a="".concat("https://vue3-course-api.hexschool.io/","/v2/api/").concat("llaurrrraa-hexschool","/cart/").concat(t);this.$http.delete(a).then((function(){e.isLoading=!1,e.getCart(),U["a"].emit("getCart")}))},goToCart:function(){this.$router.push("/cart")}}},J=(a("34dc"),a("6b0d")),A=a.n(J);const X=A()(F,[["render",R]]);e["default"]=X}}]);
//# sourceMappingURL=chunk-1f62ff2e.f0f850fa.js.map